# 一师一优课接口文档

[演示项目](https://github.com/qlteacher/sd1s1k-api-client-demo)[https://github.com/qlteacher/sd1s1k-api-client-demo.git]


1. [读取传课配置](#otoel-base-info_activity_structures)
2. [读取教师信息](#otoel-base-info/teacher)
3. [申请课例上传](#opIdapplyLesson) ——传课步骤1
4. [提交课例信息](#opIdsubmitLesson) ——传课步骤3（第二步是本地填写第一步的模板）
5. [读取课例信息](#opIdgetLessonInfo)
6. [删除课例信息](#opIdremoveLesson)
7. [获取上传的课例信息分页列表](#opIdqueryLessonsPage)
8. [申请上传课例封面](#opIdapplyLessonCover) ——传课步骤4 - 1
9. [更改课例封面](#opIdupdateLessonCover) ——传课步骤 4 - 2
10. [申请上传课例结构项资源文件](#opIdapplyLessonStructure) ——传课步骤5 - 1
11. [提交课例结构项文件上传结果](#opIdupdateLessonStructure) ——传课步骤5 - 2
12. [删除课例结构项](#opIdremoveLessonStructure)
13. [检查课例资源状态](#opIdckeckLessonStructure) ——传课步骤6
14. [确认课例完成](#opIdconfirmLesson) ——传课步骤7

```
步骤5需要进行根据课程结构进行循环执行
```

# 基础信息获取

## GET 读取传课配置
<a id="#otoel-base-info_activity_structures"></a>
GET /otoel-base-info/activity/structures/{activityId}

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|activityId|path|string| 是 |none|
|catalogId|query|integer| 是 |none|

> 返回示例

> 200 Response

```json
[
  {
    "id": "string",
    "activityId": "string",
    "name": "string",
    "sort": 0,
    "maxFileCount": 0,
    "summary": "string",
    "type": "string",
    "limit": [
      {
        "fileName": "string",
        "fileSize": 0,
        "fileFormat": "string",
        "maxCount": 0
      }
    ],
    "show": true,
    "ext": {}
  }
]
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|数组|[[ActLessonCaseStructureInfoVO](#schemaactlessoncasestructureinfovo)]|false|none||none|
|» 活动课例结构info信息|[ActLessonCaseStructureInfoVO](#schemaactlessoncasestructureinfovo)|false|none|活动课例结构info信息|none|
|»» id|string|false|none|活动课例结构id|none|
|»» activityId|string|false|none|活动Id|none|
|»» name|string|false|none|名称|none|
|»» sort|integer|false|none|排序|none|
|»» maxFileCount|integer|false|none|最大文件数|none|
|»» summary|string|false|none|简介|none|
|»» type|string|false|none|类型|ENUM('directory', 'data', 'info') 如果有下级结构则不能改类型|
|»» limit|[[LessonCaseStructureLimitDTO](#schemalessoncasestructurelimitdto)]|false|none|限制|none|
|»»» 课例结构数据限制DTO|[LessonCaseStructureLimitDTO](#schemalessoncasestructurelimitdto)|false|none|课例结构数据限制DTO|none|
|»»»» fileName|string|false|none|文件名称|none|
|»»»» fileSize|integer|false|none|文件大小|none|
|»»»» fileFormat|string|false|none|文件格式|none|
|»»»» maxCount|integer|false|none|文件最大数|none|
|»» show|boolean|false|none|是否显示|none|
|»» ext|object|false|none|扩展字段|none|

## GET 读取教师信息
<a id="otoel-base-info/teacher"></a>

GET /otoel-base-info/teacher/{activityId}

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|activityId|path|string| 是 |活动编号|
|cardnum|query|string| 否 |教师身份证号|
|name|query|string| 否 |教师姓名|

> 返回示例

> 200 Response

```json
{
  "userId": "string",
  "userName": "string",
  "schoolId": "string",
  "schoolName": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|[SimpleTeacherInfo](#schemasimpleteacherinfo)|

# 优课上传部分

<a id="opIdapplyLesson"></a>

## POST 申请课例上传

POST /otoel-upload/lesson/apply

申请课例上传时需要提供课例目录编号（catalogId）和活动编号（activityId）两个属性，服务端判断是否可以创建后返回一个课程结构的json文件其中所有需要填写的内容以#{|属性名|}表示，如：课例名称：#{lessonName}。在这个课程结构的json中只提供directory类型和info类型节点的内容变量更改。可以利用spring的spEL解析器将返回的信息处理程可以提交的json字符串。
下面是一个课程结构JSON示例：
```json
{
  "id": "2262656358362906624",
  "title": "#{#lesson_title}",
  "tags": #{#lesson_tags}, //需要json数组字符串
  "summary": "#{lesson_summary}",
  "schoolId": "#{school_id}",
  "activityId": "sd2024",
  "authors": #{#lesson_authors}, //需要json数组字符串
  "ranking": #{#lesson_ranking},
  "structure": [
    {
      "id": "2262656358362906625",
      "name": "教学整体设计",
      "type": "directory",
      "sort": 0,
      "children": [
        {
          "name": "基本信息",
          "type": "info",
          "sort": 0,
          "title": "#{structure_0_0_title}",
          "summary": "#{structure_0_0_summary}",
          "lecturerId": "#{structure_0_0_lecturer_id}",
          "lecturerName": "#{structure_0_0_lecturer_name}"
        },
        {
          "name": "课堂实录",
          "type": "data",
          "sort": 1,
          "require": true,
          "maxFileCount": 3,
          "limit": [
            {
              "type": "video",
              "maxSize": 500,
              "maxCount": 1
            },
            {
              "type": "pdf",
              "maxSize": 100,
              "maxCount": 3
            },
            {
              "type": "doc",
              "maxSize": 100,
              "maxCount": 3
            }
          ]
        }
      ]
    }
  ]
}
```

下面就java处理模板文件代码：

```java
public static String markSPEL(String template){
    ExpressionParser parser = new SpelExpressionParser();
    ParserContext parserContext = new TemplateParserContext();
    Expression expression = parser.parseExpression(template, parserContext);
    //组织需要填报的信息
    EvaluationContext context = new StandardEvaluationContext();
    context.setVariable("lesson_title", "正玄余玄函数图像");
    context.setVariable("lesson_tags", JSON.toJSON(new String[]{"正玄","余玄","函数","初中数学"})); //这里标签是数组，需要转换程json字符串
    context.setVariable("summary", "本课例是典型的课标要求、课本知识与实际相联系的课程...");
    context.setVariable("authors", JSON.toJSON(new Teacher[]{new Teacher("#masterId#","master"), new Teacher("#lecturerId#","lecturer")})); //这里需要把教师数组转为json字符串，教师信息包含userId:用户编号、type：人员类型（主持人=master， 主讲人=lecturer，成员=member）
        ...
    //模板套用数据
    return expression.getValue(context).toString();
}
```

> Body 请求参数

```yaml
catalogId: "#catalogId#"
activityId: sd2024

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» catalogId|body|string| 否 |课例类型：幼儿园=1，小学、初中、高中=2|
|» activityId|body|string| 否 |活动编号|

> 返回示例

> 200 Response

```json
{
  "id": "string",
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0,
  "viewUrl": "string",
  "status": "create",
  "structure": [
    {
      "id": "string",
      "activityId": "string",
      "lessonCaseId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "require": true,
      "maxFileCount": 0,
      "limit": [
        {
          "type": "video",
          "maxSize": 0,
          "maxCount": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": "string"
        }
      ],
      "title": "string",
      "summary": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": [
        {
          "id": "string",
          "activityId": "string",
          "lessonCaseId": "string",
          "lessonCaseStructureId": "string",
          "name": "string",
          "type": "directory",
          "sort": 0,
          "require": true,
          "maxFileCount": 0,
          "limit": [
            {}
          ],
          "content": [
            {}
          ],
          "title": "string",
          "summary": "string",
          "lecturerId": "string",
          "lecturerName": "string",
          "children": [
            {}
          ]
        }
      ]
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|[UpdateLessionCaseInfo](#schemaupdatelessioncaseinfo)|

<a id="opIdsubmitLesson"></a>

## POST 提交课例信息

POST /otoel-upload/lesson/submit

提交课例信息属于上传流程的第二步，根据第一步申请时获取到的课程结构模板填上数据后生成的课程结构数据后，提交到这个接口里。如果提交的数据通过数据校验和限制校验后课例实例数据才会入库，才可以进行下一步的上传资源操作。

> Body 请求参数

```json
{
  "id": "74",
  "title": "东面海几",
  "tags": null,
  "summary": "Ut in",
  "schoolId": "53",
  "activityId": "sd2024",
  "catalogId": "39",
  "authors": [
    {
      "userId": "74",
      "schoolId": "5",
      "type": "master"
    },
    {
      "userId": "99",
      "schoolId": "47",
      "type": "lecture"
    },
    {
      "userId": "71",
      "schoolId": "51",
      "type": "master"
    }
  ],
  "ranking": 46,
  "structure": [
    {
      "activityId": "sd2024",
      "lessonCaseStructureId": "37",
      "name": "如阶进数",
      "type": "directory",
      "sort": 54,
      "maxFileCount": 82,
      "summary": "adipisicing",
      "limit": [
        {
          "type": "media",
          "maxSize": 13
        },
        {
          "type": "image",
          "maxSize": 16
        }
      ],
      "content": [
        {
          "url": "http://mjmo.ni/psrlq",
          "showUrl": "http://ctx.ws/mfy",
          "type": "amet",
          "fileName": "线手写么层",
          "status": "waiting"
        },
        {
          "url": "http://vubnji.hr/pqjqzobc",
          "showUrl": "http://cyynk.aero/lge",
          "type": "fugiat in proident",
          "fileName": "参采须除很工",
          "status": "transition"
        },
        {
          "url": "http://nvitjo.cg/urgqssc",
          "showUrl": "http://hcctwwxeam.sm/dnosb",
          "type": "ut voluptate fugiat aliquip Lorem",
          "fileName": "式多器",
          "status": "ready"
        }
      ],
      "title": "产目做育应强消",
      "lecturerId": "5",
      "lecturerName": "收没如老空长族"
    },
    {
      "activityId": "sd2024",
      "lessonCaseStructureId": "85",
      "name": "联参住县场",
      "type": "data",
      "sort": 66,
      "maxFileCount": 57,
      "summary": "magna et nostrud labore dolor",
      "limit": [
        {
          "type": "media",
          "maxSize": 68
        }
      ],
      "content": [
        {
          "url": "http://kgoxabkhe.fj/doojppyfip",
          "showUrl": "http://bqem.ni/cixqoczv",
          "type": "in ea",
          "fileName": "打规导华民采",
          "status": "transition"
        },
        {
          "url": "http://xygxtx.ro/nluoiljcd",
          "showUrl": "http://mqqdxnkj.mg/tpl",
          "type": "eu voluptate laboris aliqua ut",
          "fileName": "件外装体",
          "status": "transition"
        }
      ],
      "title": "律火年复据构进",
      "lecturerId": "89",
      "lecturerName": "次交农机知回"
    }
  ]
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|[UpLessionCaseInfoParam](#schemauplessioncaseinfoparam)| 否 | 更新课例信息|none|

> 返回示例

> 200 Response

```json
{
  "id": "string",
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0,
  "viewUrl": "string",
  "status": "create",
  "structure": [
    {
      "id": "string",
      "activityId": "string",
      "lessonCaseId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "require": true,
      "maxFileCount": 0,
      "limit": [
        {
          "type": "video",
          "maxSize": 0,
          "maxCount": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": "string"
        }
      ],
      "title": "string",
      "summary": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": [
        {
          "id": "string",
          "activityId": "string",
          "lessonCaseId": "string",
          "lessonCaseStructureId": "string",
          "name": "string",
          "type": "directory",
          "sort": 0,
          "require": true,
          "maxFileCount": 0,
          "limit": [
            {}
          ],
          "content": [
            {}
          ],
          "title": "string",
          "summary": "string",
          "lecturerId": "string",
          "lecturerName": "string",
          "children": [
            {}
          ]
        }
      ]
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|[UpdateLessionCaseInfo](#schemaupdatelessioncaseinfo)|

<a id="opIdgetLessonInfo"></a>

## GET 读取课例信息

GET /otoel-upload/lesson/info/{id}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "id": "string",
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0,
  "viewUrl": "string",
  "status": "create",
  "structure": [
    {
      "id": "string",
      "activityId": "string",
      "lessonCaseId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "require": true,
      "maxFileCount": 0,
      "limit": [
        {
          "type": "video",
          "maxSize": 0,
          "maxCount": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": "string"
        }
      ],
      "title": "string",
      "summary": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": [
        {
          "id": "string",
          "activityId": "string",
          "lessonCaseId": "string",
          "lessonCaseStructureId": "string",
          "name": "string",
          "type": "directory",
          "sort": 0,
          "require": true,
          "maxFileCount": 0,
          "limit": [
            {}
          ],
          "content": [
            {}
          ],
          "title": "string",
          "summary": "string",
          "lecturerId": "string",
          "lecturerName": "string",
          "children": [
            {}
          ]
        }
      ]
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|[UpdateLessionCaseInfo](#schemaupdatelessioncaseinfo)|

<a id="opIdckeckLessonStructure"></a>

## GET 检查课例资源状态

GET /otoel-upload/lessons/check/{id}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|

> 返回示例

> 200 Response

```json
[
  "string"
]
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

<a id="opIdupdateLessonCover"></a>

## PUT 更改课例封面文件

PUT /otoel-upload/lessons/cover/{id}

> Body 请求参数

```json
{
  "key": "string",
  "domain": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|
|body|body|[ResourceUpdateParam](#schemaresourceupdateparam)| 否 | 资源更新对象|none|

> 返回示例

> 200 Response

```json
true
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|boolean|

<a id="opIdapplyLessonCover"></a>

## POST 申请上传课例封面

POST /otoel-upload/lessons/cover/{id}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|
|fileName|query|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "signature": "string",
  "signatureUrl": "string",
  "key": "string",
  "domain": "string",
  "region": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|[SignatureVO](#schemasignaturevo)|

<a id="opIdremoveLesson"></a>

## DELETE 删除课例

DELETE /otoel-upload/lesson/{id}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": true
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|number|true|none|状态码|none|
|» msg|string¦null|true|none|信息|none|
|» data|boolean|true|none|返回数据|none|

<a id="opIdapplyLessonStructure"></a>

## POST 申请上传课例结构项资源文件

POST /otoel-upload/lessons/structure/{id}/{structureId}

> Body 请求参数

```json
[
  {
    "index": 0,
    "type": "media"
  }
]
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|
|structureId|path|string| 是 ||课例结构项编号|
|body|body|[ApplyStructureItemParam](#schemaapplystructureitemparam)| 否 ||none|

> 返回示例

> 200 Response

```json
[
  {
    "id": "string",
    "structureId": "string",
    "index": 0,
    "signature": {
      "signature": "string",
      "signatureUrl": "string",
      "key": "string",
      "domain": "string",
      "region": "string"
    }
  }
]
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|*anonymous*|[[StructureSignatureVO](#schemastructuresignaturevo)]|false|none||none|
|» 结构项实例资源上传签名|[StructureSignatureVO](#schemastructuresignaturevo)|false|none|结构项实例资源上传签名|none|
|»» id|string|true|none|结构项实例编号|none|
|»» structureId|string|true|none|结构项编号|none|
|»» index|integer|true|none|序号/下标|none|
|»» signature|[SignatureVO](#schemasignaturevo)|true|none|上传签名|none|
|»»» signature|string¦null|false|none|签名|none|
|»»» signatureUrl|string¦null|true|none|上传地址|带签名信息的上传在址|
|»»» key|string|true|none|文件key|视频文件时sessionKey上传完成后需要将这个key提交|
|»»» domain|string¦null|false|none|域名|none|
|»»» region|string|true|none|区域名|视频文件时上传完成后需要将这个region提交|

<a id="opIdupdateLessonStructure"></a>

## PUT 提交课例结构项文件上传结果

PUT /otoel-upload/lessons/structures/{id}

这里需要提交上传文件后获得的fileId，服务端通过腾讯api获取文件信息确认文件有效后，将新的fileId保存到对应的步骤上，并删除旧的fileId(如果有)同时通过腾讯api删除旧的fileId

> Body 请求参数

```json
[
  {
    "structureId": "string",
    "index": 0,
    "key": "string",
    "domain": "string"
  }
]
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|
|body|body|[UpdataStructureItemParam](#schemaupdatastructureitemparam)| 否 ||none|

> 返回示例

> 200 Response

```json
true
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|boolean|

<a id="opIdqueryLessonsPage"></a>

## GET 获取上传的课例信息分页列表

GET /otoel-upload/lessons/page

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|activityId|query|string| 否 |活动编号|none|
|regionId|query|string| 否 |区域编号|none|
|state|query|string| 否 |状态|none|
|pageSize|query|string| 否 |每页条数|none|
|pageIndex|query|string| 否 |页码|none|
|count|query|string| 否 |是否计算总数|none|

> 返回示例

> 200 Response

```json
[
  {
    "id": "string",
    "title": "string",
    "tags": [
      "string"
    ],
    "summary": "string",
    "schoolId": "string",
    "activityId": "string",
    "authors": [
      {
        "userId": "string",
        "type": "master"
      }
    ],
    "ranking": 0,
    "viewUrl": "string",
    "status": "create",
    "status-stat": {
      "waiting": 0,
      "transition": 0,
      "finish": 0
    }
  }
]
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|*anonymous*|[[ClassBaseInfo](#schemaclassbaseinfo)]|false|none||none|
|» 课例基础信息|[ClassBaseInfo](#schemaclassbaseinfo)|false|none|课例基础信息|none|
|»» id|string|true|none|ID 编号|none|
|»» title|string|true|none|标题|none|
|»» tags|[string]|true|none|标签|none|
|»» summary|string|true|none|概要|none|
|»» schoolId|string|true|none|学校编号|none|
|»» activityId|string|true|none|课程编号|none|
|»» authors|[[CreativeTeam](#schemacreativeteam)]|true|none|作者编号|none|
|»»» 创作团队成员|[CreativeTeam](#schemacreativeteam)|false|none|创作团队成员|none|
|»»»» userId|string|true|none|用户编号|none|
|»»»» type|string|true|none|类型|none|
|»» ranking|number|true|none|排序号|也就是排名|
|»» viewUrl|string|true|none|预览地址|none|
|»» status|string|true|none|课程状态|none|
|»» status-stat|[FileStatusState](#schemafilestatusstate)|false|none|转换状态统计|none|
|»»» waiting|integer|true|none|等待上传|none|
|»»» transition|integer|true|none|转换中|none|
|»»» finish|integer|true|none|已完成|none|

#### 枚举值

|属性|值|说明|
|---|---|---|
|type|master|支持人|
|type|lecture|核心成员|
|type|member|普通成员|
|status|create|创建|
|status|improving|完善中|
|status|confirmed|确认完成|
|status|included|已经导入|
|status|error|出错|

<a id="opIdremoveLessonStructure"></a>

## DELETE 删除课例步骤项文件

DELETE /otoel-upload/lessons/structure/{id}/{structureId}/{index}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例编号|
|structureId|path|string| 是 ||课例结构项编号|
|index|path|string| 是 ||文件下标 0~n|

> 返回示例

> 200 Response

```json
true
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|boolean|

<a id="opIdconfirmLesson"></a>

## PUT 确认课例完成

PUT /otoel-upload/lessons/confirm/{id}

> Body 请求参数

```yaml
signature: 我确认课例信息准确无误，可以参与省级优课评选

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||课例|
|body|body|object| 否 ||none|
|» signature|body|string| 否 ||确认信息|

> 返回示例

> 200 Response

```json
true
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|boolean|

# 数据模型

<h2 id="tocS_FileStatusState">FileStatusState</h2>

<a id="schemafilestatusstate"></a>
<a id="schema_FileStatusState"></a>
<a id="tocSfilestatusstate"></a>
<a id="tocsfilestatusstate"></a>

```json
{
  "waiting": 0,
  "transition": 0,
  "finish": 0
}

```

转换状态统计

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|waiting|integer|true|none|等待上传|none|
|transition|integer|true|none|转换中|none|
|finish|integer|true|none|已完成|none|

<h2 id="tocS_LessonCaseStructureLimitDTO">LessonCaseStructureLimitDTO</h2>

<a id="schemalessoncasestructurelimitdto"></a>
<a id="schema_LessonCaseStructureLimitDTO"></a>
<a id="tocSlessoncasestructurelimitdto"></a>
<a id="tocslessoncasestructurelimitdto"></a>

```json
{
  "fileName": "string",
  "fileSize": 0,
  "fileFormat": "string",
  "maxCount": 0
}

```

课例结构数据限制DTO

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|fileName|string|false|none|文件名称|none|
|fileSize|integer|false|none|文件大小|none|
|fileFormat|string|false|none|文件格式|none|
|maxCount|integer|false|none|文件最大数|none|

<h2 id="tocS_UpLessonCaseItemParam">UpLessonCaseItemParam</h2>

<a id="schemauplessoncaseitemparam"></a>
<a id="schema_UpLessonCaseItemParam"></a>
<a id="tocSuplessoncaseitemparam"></a>
<a id="tocsuplessoncaseitemparam"></a>

```json
{
  "activityId": "string",
  "lessonCaseStructureId": "string",
  "name": "string",
  "type": "directory",
  "sort": 0,
  "maxFileCount": 0,
  "summary": "string",
  "limit": [
    {
      "type": "media",
      "maxSize": 0
    }
  ],
  "content": [
    {
      "url": "string",
      "showUrl": "string",
      "type": "string",
      "fileName": "string",
      "status": {}
    }
  ],
  "title": "string",
  "lecturerId": "string",
  "lecturerName": "string",
  "children": {
    "activityId": "string",
    "lessonCaseStructureId": "string",
    "name": "string",
    "type": "directory",
    "sort": 0,
    "maxFileCount": 0,
    "summary": "string",
    "limit": [
      {
        "type": "media",
        "maxSize": 0
      }
    ],
    "content": [
      {
        "url": "string",
        "showUrl": "string",
        "type": "string",
        "fileName": "string",
        "status": {}
      }
    ],
    "title": "string",
    "lecturerId": "string",
    "lecturerName": "string",
    "children": {
      "activityId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "maxFileCount": 0,
      "summary": "string",
      "limit": [
        {
          "type": "[",
          "maxSize": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": {}
        }
      ],
      "title": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": {
        "activityId": "string",
        "lessonCaseStructureId": "string",
        "name": "string",
        "type": "directory",
        "sort": 0,
        "maxFileCount": 0,
        "summary": "string",
        "limit": [
          {}
        ],
        "content": [
          {}
        ],
        "title": "string",
        "lecturerId": "string",
        "lecturerName": "string",
        "children": {
          "activityId": null,
          "lessonCaseStructureId": null,
          "name": null,
          "type": null,
          "sort": null,
          "maxFileCount": null,
          "summary": null,
          "limit": null,
          "content": null,
          "title": null,
          "lecturerId": null,
          "lecturerName": null,
          "children": null
        }
      }
    }
  }
}

```

上传课例子项提交参数

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|activityId|string|true|45字节|活动编号|none|
|lessonCaseStructureId|string|true|45字节|结构项编号|none|
|name|string|true|none|名称|none|
|type|string|true|none|类型|none|
|sort|integer|true|none|排序|none|
|maxFileCount|integer|true|none|文件数|none|
|summary|string|true|500字节|简介|none|
|limit|[object]|false|none|限制|类型type等于data时才有|
|» type|string|true|none|类型|none|
|» maxSize|integer|true|none|最大限制|none|
|content|[object]|false|none|内容|类型type等于data时才有|
|» url|string|false|none|原地址|none|
|» showUrl|string|false|none|显示地址|none|
|» type|string|false|none|文件类型|none|
|» fileName|string|true|none|文件名|none|
|» status|object|true|none|文件状态|none|
|title|string|false|none|标题|类型type等于info时才有|
|lecturerId|string|false|none|讲师编号|类型type等于info时才有|
|lecturerName|string|false|none|讲师姓名|类型type等于info时才有|
|children|[UpLessonCaseItemParam](#schemauplessoncaseitemparam)|true|none||none|

#### 枚举值

|属性|值|说明|
|---|---|---|
|type|directory|目录节点|
|type|data|资源节点|
|type|info|信息节点|

<h2 id="tocS_FileStatusEnum">FileStatusEnum</h2>

<a id="schemafilestatusenum"></a>
<a id="schema_FileStatusEnum"></a>
<a id="tocSfilestatusenum"></a>
<a id="tocsfilestatusenum"></a>

```json
"waiting"

```

文件状态

#### 枚举值

|属性|值|说明|
|---|---|---|
|文件状态|waiting|等待上传|
|文件状态|transition|等待转换|
|文件状态|finish|转换完成|
|文件状态|error|转换出错|

<h2 id="tocS_StructureResourceItem">StructureResourceItem</h2>

<a id="schemastructureresourceitem"></a>
<a id="schema_StructureResourceItem"></a>
<a id="tocSstructureresourceitem"></a>
<a id="tocsstructureresourceitem"></a>

```json
{
  "url": "string",
  "showUrl": "string",
  "type": "string",
  "fileName": "string",
  "status": "string"
}

```

课例结构资源项资源

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|url|string|false|none|源地址||
|showUrl|string|false|none|显示地址||
|type|string|false|none|文件类型||
|fileName|string|false|none|文件名||
|status|string|false|none|转换状态||

<h2 id="tocS_FileTypeEnum">FileTypeEnum</h2>

<a id="schemafiletypeenum"></a>
<a id="schema_FileTypeEnum"></a>
<a id="tocSfiletypeenum"></a>
<a id="tocsfiletypeenum"></a>

文件类型

#### 枚举值

|属性|值|说明|
|---|---|---|
|文件类型|video|一般为mp4格式|
|文件类型|pdf||
|文件类型|ppt|包含ppt、pptx|
|文件类型|doc|包含doc、docx|
|文件类型|xls|包含xls、xlsx|
|文件类型|file|一般包含zip、rar、tar、gz等压缩包格式|
|文件类型|image|包含jpg、jpeg、png等网页用图片文件格式|

<h2 id="tocS_UpdataLessonItemVo">UpdataLessonItemVo</h2>

<a id="schemaupdatalessonitemvo"></a>
<a id="schema_UpdataLessonItemVo"></a>
<a id="tocSupdatalessonitemvo"></a>
<a id="tocsupdatalessonitemvo"></a>

```json
{
  "id": "string",
  "activityId": "string",
  "lessonCaseId": "string",
  "lessonCaseStructureId": "string",
  "name": "string",
  "type": "directory",
  "sort": 0,
  "require": true,
  "maxFileCount": 0,
  "limit": [
    {
      "type": "video",
      "maxSize": 0,
      "maxCount": 0
    }
  ],
  "content": [
    {
      "url": "string",
      "showUrl": "string",
      "type": "string",
      "fileName": "string",
      "status": "string"
    }
  ],
  "title": "string",
  "summary": "string",
  "lecturerId": "string",
  "lecturerName": "string",
  "children": [
    {
      "id": "string",
      "activityId": "string",
      "lessonCaseId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "require": true,
      "maxFileCount": 0,
      "limit": [
        {
          "type": "video",
          "maxSize": 0,
          "maxCount": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": "string"
        }
      ],
      "title": "string",
      "summary": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": [
        {
          "id": "string",
          "activityId": "string",
          "lessonCaseId": "string",
          "lessonCaseStructureId": "string",
          "name": "string",
          "type": "directory",
          "sort": 0,
          "require": true,
          "maxFileCount": 0,
          "limit": [
            {}
          ],
          "content": [
            {}
          ],
          "title": "string",
          "summary": "string",
          "lecturerId": "string",
          "lecturerName": "string",
          "children": [
            {}
          ]
        }
      ]
    }
  ]
}

```

上传课例子项

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|true|none|编号|none|
|activityId|string|true|none|活动编号|none|
|lessonCaseId|string|true|none|课例编号|none|
|lessonCaseStructureId|string|true|none|结构项编号|none|
|name|string|true|none|名称|none|
|type|string|true|none|类型|none|
|sort|integer|true|none|排序|none|
|require|boolean|true|none|是否必须|类型type不等于directory时才有|
|maxFileCount|integer|true|none|文件数|类型type不等于directory时才有|
|limit|[object]|false|none|限制|类型type等于data时才有|
|» type|[FileTypeEnum](#schemafiletypeenum)|true|none|类型|none|
|» maxSize|integer|true|none|最大限制|none|
|» maxCount|integer|true|none|最大数量|none|
|content|[[StructureResourceItem](#schemastructureresourceitem)]|false|none|内容|类型type等于data时才有|
|title|string|false|none|标题|类型type等于info时才有|
|summary|string|false|none|简介|类型type等于info时才有|
|lecturerId|string|false|none|讲师编号|类型type等于info时才有|
|lecturerName|string|false|none|讲师姓名|类型type等于info时才有|
|children|[[UpdataLessonItemVo](#schemaupdatalessonitemvo)]|false|none||none|

#### 枚举值

|属性|值|说明|
|---|---|---|
|type|directory|目录节点|
|type|data|数据节点|
|type|info|信息节点|

<h2 id="tocS_CreativeTeam">CreativeTeam</h2>

<a id="schemacreativeteam"></a>
<a id="schema_CreativeTeam"></a>
<a id="tocScreativeteam"></a>
<a id="tocscreativeteam"></a>

```json
{
  "userId": "string",
  "type": "master"
}

```

创作团队成员

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|userId|string|true|none|用户编号|none|
|type|string|true|none|类型|none|

#### 枚举值

|属性|值|说明|
|---|---|---|
|type|master|主持人|
|type|lecture|主讲人|
|type|member|参与者|

<h2 id="tocS_ClassBaseInfo">ClassBaseInfo</h2>

<a id="schemaclassbaseinfo"></a>
<a id="schema_ClassBaseInfo"></a>
<a id="tocSclassbaseinfo"></a>
<a id="tocsclassbaseinfo"></a>

```json
{
  "id": "string",
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0,
  "viewUrl": "string",
  "status": "create",
  "status-stat": {
    "waiting": 0,
    "transition": 0,
    "finish": 0
  }
}

```

课例基础信息

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|true|none|ID 编号|none|
|title|string|true|none|标题|none|
|tags|[string]|true|none|标签|none|
|summary|string|true|none|概要|none|
|schoolId|string|true|none|学校编号|none|
|activityId|string|true|none|课程编号|none|
|authors|[[CreativeTeam](#schemacreativeteam)]|true|none|作者编号|none|
|ranking|number|true|none|排序号|也就是排名|
|viewUrl|string|true|none|预览地址|none|
|status|string|true|none|课程状态|none|
|status-stat|[FileStatusState](#schemafilestatusstate)|false|none|转换状态统计|none|

#### 枚举值

|属性|值|说明|
|---|---|---|
|status|create|创建状态|
|status|improving|完善中|
|status|confirmed|确认完善|
|status|included|已经收录|
|status|error|出错|

<h2 id="tocS_ApiLessonSearchParam">ApiLessonSearchParam</h2>

<a id="schemaapilessonsearchparam"></a>
<a id="schema_ApiLessonSearchParam"></a>
<a id="tocSapilessonsearchparam"></a>
<a id="tocsapilessonsearchparam"></a>

```json
{
  "actityId": "string",
  "regionId": "string",
  "state": "string",
  "pageSize": "string",
  "pageIndex": "string",
  "count": "string"
}

```

接口课程查询参数

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|actityId|string|true|none|活动编号|none|
|regionId|string|true|none|区域编号|none|
|state|string|true|none|课例状态|none|
|pageSize|string|true|none|分页大小|none|
|pageIndex|string|true|none|页码|none|
|count|string|true|none|是否统计总数|none|

<h2 id="tocS_UpdataStructureItemParam">UpdataStructureItemParam</h2>

<a id="schemaupdatastructureitemparam"></a>
<a id="schema_UpdataStructureItemParam"></a>
<a id="tocSupdatastructureitemparam"></a>
<a id="tocsupdatastructureitemparam"></a>

```json
{
  "structureId": "string",
  "index": 0,
  "key": "string",
  "domain": "string",
  "region": "string",
  "fileName": "string",
  "fileSize": 0
}

```

上传课程机构项目参数

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|structureId|string|true|none|结构项编号|none|
|index|integer|true|none|文件下标|none|
|key|string|true|none|文件地址|文件上传路径或fileId|
|domain|string|false|none|域名|对于视频类的资源这里可以传appId|
|region|string|false|none|区域名|视频类的资源必须传该属性|
|fileName|string|true|none|文件名|none|
|fileSize|integer|true|none|文件大小|none|

<h2 id="tocS_SignatureVO">SignatureVO</h2>

<a id="schemasignaturevo"></a>
<a id="schema_SignatureVO"></a>
<a id="tocSsignaturevo"></a>
<a id="tocssignaturevo"></a>

```json
{
  "signature": "string",
  "signatureUrl": "string",
  "key": "string",
  "domain": "string",
  "region": "string"
}

```

上传许可对象

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|signature|string¦null|false|none|签名|none|
|signatureUrl|string¦null|true|none|上传地址|带签名信息的上传在址|
|key|string|true|none|文件key|视频文件时sessionKey上传完成后需要将这个key提交|
|domain|string¦null|false|none|域名|none|
|region|string|true|none|区域名|视频文件时上传完成后需要将这个region提交|

<h2 id="tocS_StructureSignatureVO">StructureSignatureVO</h2>

<a id="schemastructuresignaturevo"></a>
<a id="schema_StructureSignatureVO"></a>
<a id="tocSstructuresignaturevo"></a>
<a id="tocsstructuresignaturevo"></a>

```json
{
  "id": "string",
  "structureId": "string",
  "index": 0,
  "signature": {
    "signature": "string",
    "signatureUrl": "string",
    "key": "string",
    "domain": "string",
    "region": "string"
  }
}

```

结构项实例资源上传签名

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|true|none|结构项实例编号|none|
|structureId|string|true|none|结构项编号|none|
|index|integer|true|none|序号/下标|none|
|signature|[SignatureVO](#schemasignaturevo)|true|none|上传签名|none|

<h2 id="tocS_ActCatalogInfoVO">ActCatalogInfoVO</h2>

<a id="schemaactcataloginfovo"></a>
<a id="schema_ActCatalogInfoVO"></a>
<a id="tocSactcataloginfovo"></a>
<a id="tocsactcataloginfovo"></a>

```json
{
  "id": "string",
  "activityId": "string",
  "catalogId": "string",
  "name": "string",
  "parentId": "string",
  "level": 0,
  "summary": "string",
  "dictItemId": "string",
  "path": "string",
  "pathName": "string"
}

```

活动目录信息

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|true|none|活动信息id|ID 编号|
|activityId|string|false|none|活动Id|none|
|catalogId|string|false|none|目录结构Id|none|
|name|string|false|none|目录信息名称|none|
|parentId|string|false|none|父级id|none|
|level|integer|false|none|级别|none|
|summary|string|false|none|简介|none|
|dictItemId|string|false|none|字典项id|none|
|path|string|false|none|路径|none|
|pathName|string|false|none|名称路径|none|

<h2 id="tocS_ApplyStructureItemParam">ApplyStructureItemParam</h2>

<a id="schemaapplystructureitemparam"></a>
<a id="schema_ApplyStructureItemParam"></a>
<a id="tocSapplystructureitemparam"></a>
<a id="tocsapplystructureitemparam"></a>

```json
{
  "index": 0,
  "fileName": "string"
}

```

课例结构项上传申请

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|index|integer|true|none|序号|none|
|fileName|string|true|none|文件名|none|

<h2 id="tocS_ResourceUpdateParam">ResourceUpdateParam</h2>

<a id="schemaresourceupdateparam"></a>
<a id="schema_ResourceUpdateParam"></a>
<a id="tocSresourceupdateparam"></a>
<a id="tocsresourceupdateparam"></a>

```json
{
  "key": "string",
  "domain": "string"
}

```

资源更新对象

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|key|string|true|none|文件key|none|
|domain|string|true|none|域名|none|

<h2 id="tocS_SimpleTeacherInfo">SimpleTeacherInfo</h2>

<a id="schemasimpleteacherinfo"></a>
<a id="schema_SimpleTeacherInfo"></a>
<a id="tocSsimpleteacherinfo"></a>
<a id="tocssimpleteacherinfo"></a>

```json
{
  "userId": "string",
  "userName": "string",
  "schoolId": "string",
  "schoolName": "string"
}

```

简单教师信息

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|userId|string|true|none|用户编号|none|
|userName|string|true|none|用户姓名|none|
|schoolId|string|true|none|学校编号|none|
|schoolName|string|true|none|学校名称|none|

<h2 id="tocS_ActLessonCaseStructureInfoVO">ActLessonCaseStructureInfoVO</h2>

<a id="schemaactlessoncasestructureinfovo"></a>
<a id="schema_ActLessonCaseStructureInfoVO"></a>
<a id="tocSactlessoncasestructureinfovo"></a>
<a id="tocsactlessoncasestructureinfovo"></a>

```json
{
  "id": "string",
  "activityId": "string",
  "name": "string",
  "sort": 0,
  "maxFileCount": 0,
  "summary": "string",
  "type": "string",
  "limit": [
    {
      "fileName": "string",
      "fileSize": 0,
      "fileFormat": "string",
      "maxCount": 0
    }
  ],
  "show": true,
  "ext": {}
}

```

活动课例结构info信息

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|false|none|活动课例结构id|none|
|activityId|string|false|none|活动Id|none|
|name|string|false|none|名称|none|
|sort|integer|false|none|排序|none|
|maxFileCount|integer|false|none|最大文件数|none|
|summary|string|false|none|简介|none|
|type|string|false|none|类型|ENUM('directory', 'data', 'info') 如果有下级结构则不能改类型|
|limit|[[LessonCaseStructureLimitDTO](#schemalessoncasestructurelimitdto)]|false|none|限制|none|
|show|boolean|false|none|是否显示|none|
|ext|object|false|none|扩展字段|none|

<h2 id="tocS_UpLessionCaseInfoParam">UpLessionCaseInfoParam</h2>

<a id="schemauplessioncaseinfoparam"></a>
<a id="schema_UpLessionCaseInfoParam"></a>
<a id="tocSuplessioncaseinfoparam"></a>
<a id="tocsuplessioncaseinfoparam"></a>

```json
{
  "id": "string",
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "catalogId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0,
  "structures": [
    {
      "activityId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "maxFileCount": 0,
      "summary": "string",
      "limit": [
        {
          "type": "media",
          "maxSize": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": {}
        }
      ],
      "title": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": {
        "activityId": "string",
        "lessonCaseStructureId": "string",
        "name": "string",
        "type": "directory",
        "sort": 0,
        "maxFileCount": 0,
        "summary": "string",
        "limit": [
          {
            "type": null,
            "maxSize": null
          }
        ],
        "content": [
          {
            "url": null,
            "showUrl": null,
            "type": null,
            "fileName": null,
            "status": null
          }
        ],
        "title": "string",
        "lecturerId": "string",
        "lecturerName": "string",
        "children": {
          "activityId": "string",
          "lessonCaseStructureId": "string",
          "name": "string",
          "type": "[",
          "sort": 0,
          "maxFileCount": 0,
          "summary": "string",
          "limit": [
            null
          ],
          "content": [
            null
          ],
          "title": "string",
          "lecturerId": "string",
          "lecturerName": "string",
          "children": {}
        }
      }
    }
  ]
}

```

更新课例信息

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|false|32字节||ID 编号|
|title|string|true|100字符|标题|none|
|tags|[string]|true|none|标签|none|
|summary|string|true|500字符|概要|none|
|schoolId|string|true|32字节|学校编号|none|
|activityId|string|true|45字节|活动编号|none|
|catalogId|string|true|45字节|活动目录编号|none|
|authors|[[CreativeTeam](#schemacreativeteam)]|true|none|作者|none|
|ranking|number|true| > 0 |排序号|也就是排名|
|structures|[[UpLessonCaseItemParam](#schemauplessoncaseitemparam)]|true|none|项目结构项|子节点|

<h2 id="tocS_UpdateLessionCaseInfo">UpdateLessionCaseInfo</h2>

<a id="schemaupdatelessioncaseinfo"></a>
<a id="schema_UpdateLessionCaseInfo"></a>
<a id="tocSupdatelessioncaseinfo"></a>
<a id="tocsupdatelessioncaseinfo"></a>

```json
{
  "id": "string",
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0,
  "viewUrl": "string",
  "status": "create",
  "structure": [
    {
      "id": "string",
      "activityId": "string",
      "lessonCaseId": "string",
      "lessonCaseStructureId": "string",
      "name": "string",
      "type": "directory",
      "sort": 0,
      "require": true,
      "maxFileCount": 0,
      "limit": [
        {
          "type": "video",
          "maxSize": 0,
          "maxCount": 0
        }
      ],
      "content": [
        {
          "url": "string",
          "showUrl": "string",
          "type": "string",
          "fileName": "string",
          "status": "string"
        }
      ],
      "title": "string",
      "summary": "string",
      "lecturerId": "string",
      "lecturerName": "string",
      "children": [
        {
          "id": "string",
          "activityId": "string",
          "lessonCaseId": "string",
          "lessonCaseStructureId": "string",
          "name": "string",
          "type": "directory",
          "sort": 0,
          "require": true,
          "maxFileCount": 0,
          "limit": [
            {}
          ],
          "content": [
            {}
          ],
          "title": "string",
          "summary": "string",
          "lecturerId": "string",
          "lecturerName": "string",
          "children": [
            {}
          ]
        }
      ]
    }
  ]
}

```

上传课程结构主体

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|string|true|none|ID 编号|none|
|title|string|true|none|标题|none|
|tags|[string]|true|none|标签|none|
|summary|string|true|none|概要|none|
|schoolId|string|true|none|学校编号|none|
|activityId|string|true|none|课程编号|none|
|authors|[[CreativeTeam](#schemacreativeteam)]|true|none|作者编号|none|
|ranking|number|true|none|排序号|也就是排名|
|viewUrl|string|true|none|预览地址|none|
|status|string|true|none|课程状态|none|
|structure|[[UpdataLessonItemVo](#schemaupdatalessonitemvo)]|true|none||none|

#### 枚举值

|属性|值|说明|
|---|---|---|
|status|create|创建|
|status|improving|完善中|
|status|confirmed|确认完成|
|status|included|已导入|
|status|error|出错|

<h2 id="tocS_未命名数据模型">未命名数据模型</h2>

```json
{
  "title": "string",
  "tags": [
    "string"
  ],
  "summary": "string",
  "schoolId": "string",
  "activityId": "string",
  "catalogId": "string",
  "authors": [
    {
      "userId": "string",
      "type": "master"
    }
  ],
  "ranking": 0
}

```

添加课例基础信息

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|title|string|true|none|标题|none|
|tags|[string]|false|none|标签|none|
|summary|string|false|none|概要|none|
|schoolId|string|true|none|学校编号|none|
|activityId|string|true|none|活动编号|none|
|catalogId|string|true|none|活动目录编号|none|
|authors|[[CreativeTeam](#schemacreativeteam)]|true|none|作者|none|
|ranking|number¦null|false|none|排名|none|

<h2 id="tocS_queryActCatalogInfoParam">queryActCatalogInfoParam</h2>

<a id="schemaqueryactcataloginfoparam"></a>
<a id="schema_queryActCatalogInfoParam"></a>
<a id="tocSqueryactcataloginfoparam"></a>
<a id="tocsqueryactcataloginfoparam"></a>

```json
{
  "activityId": "string",
  "path": "string",
  "count": true,
  "pageIndex": 1,
  "pageSize": 1
}

```

获取活动目录信息参数

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|activityId|string|false|none|活动id|none|
|path|string|false|none|目录信息路径|none|
|count|boolean|false|none|是否需要总数量|none|
|pageIndex|integer|false|none|分页页码|none|
|pageSize|integer|false|none|每页数量|none|

